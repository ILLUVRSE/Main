# kernel/env.prod.sample
# Example production environment variables for the Kernel service.
# DO NOT COMMIT REAL SECRETS. Copy this to kernel/.env.prod (or inject via host/secret manager).

# Server
PORT=3000
NODE_ENV=production
LOG_LEVEL=info

# Postgres (production managed DB). Use a managed Postgres URI (DO NOT expose password publicly).
# Example:
# POSTGRES_URL=postgresql://<user>:<password>@<host>:5432/illuvrse?sslmode=require
POSTGRES_URL=

# KMS / Signing proxy (production)
# Example: https://kms.example.internal
KMS_ENDPOINT=
SIGNER_ID=kernel-signer-1

# Operational
# When true, CI / deploy must ensure KMS_ENDPOINT is set and production signing is enforced.
REQUIRE_KMS=true

# Optional observability / Sentry
SENTRY_DSN=

# Optional: metrics/telemetry
PROMETHEUS_PUSHGATEWAY_URL=
PROMETHEUS_JOB_NAME=kernel

# Notes:
# - Provide real values via your host's secrets manager (Fly secrets, Render secrets, GitHub Actions secrets, etc.).
# - Do NOT paste secrets into the repository. Use `fly secrets set`, `render` UI, or GitHub repo/org secrets.
# - POSTGRES_URL should use SSL/TLS if the DB is external (append ?sslmode=require or equivalent).
#
# Acceptance checks:
# - File contains all required env names (POSTGRES_URL, KMS_ENDPOINT, SIGNER_ID, REQUIRE_KMS, NODE_ENV, PORT).
# - No real secrets are committed to the repo (verify before push).
# - Deploy/CI uses secrets manager to inject values into runtime, not this file.

