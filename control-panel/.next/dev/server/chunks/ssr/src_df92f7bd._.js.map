{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanlueckenotte/ILLUVRSE/commandpad/src/lib/fetcher.ts"],"sourcesContent":["export const kernelUrl = process.env.NEXT_PUBLIC_KERNEL_URL || '';\n\nexport async function fetchAgents() {\n  if (!kernelUrl) {\n    return [\n      { id: 'agent-1', state: 'running', templateId: 'tpl-1', createdAt: new Date().toISOString() },\n      { id: 'agent-2', state: 'failed', templateId: 'tpl-2', createdAt: new Date().toISOString() }\n    ];\n  }\n  const r = await fetch(`${kernelUrl}/kernel/agent`);\n  if (!r.ok) throw new Error('kernel fetch failed');\n  return r.json();\n}\n\nexport async function fetchAudit() {\n  if (!kernelUrl) {\n    return [\n      { id: 'aud-1', type: 'agent.instantiated', ts: new Date().toISOString(), payload: { agentId: 'agent-1' } },\n      { id: 'aud-2', type: 'agent.running', ts: new Date().toISOString(), payload: { agentId: 'agent-1' } }\n    ];\n  }\n  const r = await fetch(`${kernelUrl}/kernel/audit`);\n  if (!r.ok) throw new Error('kernel fetch failed');\n  return r.json();\n}\n\n"],"names":[],"mappings":";;;;;;;;AAAO,MAAM,YAAY,wCAAsC;AAExD,eAAe;IACpB,wCAAgB;QACd,OAAO;YACL;gBAAE,IAAI;gBAAW,OAAO;gBAAW,YAAY;gBAAS,WAAW,IAAI,OAAO,WAAW;YAAG;YAC5F;gBAAE,IAAI;gBAAW,OAAO;gBAAU,YAAY;gBAAS,WAAW,IAAI,OAAO,WAAW;YAAG;SAC5F;IACH;;;IACA,MAAM;AAGR;AAEO,eAAe;IACpB,wCAAgB;QACd,OAAO;YACL;gBAAE,IAAI;gBAAS,MAAM;gBAAsB,IAAI,IAAI,OAAO,WAAW;gBAAI,SAAS;oBAAE,SAAS;gBAAU;YAAE;YACzG;gBAAE,IAAI;gBAAS,MAAM;gBAAiB,IAAI,IAAI,OAAO,WAAW;gBAAI,SAAS;oBAAE,SAAS;gBAAU;YAAE;SACrG;IACH;;;IACA,MAAM;AAGR","debugId":null}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanlueckenotte/ILLUVRSE/commandpad/src/app/page.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport { fetchAgents, fetchAudit } from \"../lib/fetcher\";\nimport Cookies from \"js-cookie\";\nimport { useRouter } from \"next/navigation\";\n\nfunction requireAuth(router:any) {\n  if (!Cookies.get(\"commandpad_token\")) router.push(\"/login\");\n}\n\nexport default function Home() {\n  const router = useRouter();\n  const [agents, setAgents] = useState<any[]>([]);\n  const [audit, setAudit] = useState<any[]>([]);\n\n  useEffect(() => {\n    requireAuth(router);\n    fetchAgents().then(setAgents).catch(()=>setAgents([]));\n    fetchAudit().then(setAudit).catch(()=>setAudit([]));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <main className=\"max-w-5xl mx-auto p-6\">\n      <h2 className=\"text-2xl font-bold mb-4\">Dashboard</h2>\n      <div className=\"grid grid-cols-3 gap-4 mb-6\">\n        <div className=\"bg-white p-4 rounded shadow\">\n          <div className=\"text-sm text-gray-500\">Agents</div>\n          <div className=\"text-2xl font-semibold\">{agents.length}</div>\n        </div>\n        <div className=\"bg-white p-4 rounded shadow\">\n          <div className=\"text-sm text-gray-500\">Audit events</div>\n          <div className=\"text-2xl font-semibold\">{audit.length}</div>\n        </div>\n        <div className=\"bg-white p-4 rounded shadow\">\n          <div className=\"text-sm text-gray-500\">Kernel URL</div>\n          <div className=\"text-ellipsis\">{process.env.NEXT_PUBLIC_KERNEL_URL || 'mock'}</div>\n        </div>\n      </div>\n\n      <section className=\"grid grid-cols-2 gap-6\">\n        <div className=\"bg-white p-4 rounded shadow\">\n          <h3 className=\"font-semibold mb-2\">Recent agents</h3>\n          <ul>\n            {agents.slice(0,5).map(a=>(\n              <li key={a.id} className=\"border-b py-2\">\n                <div className=\"flex justify-between\">\n                  <div>{a.id}</div>\n                  <div className=\"text-sm text-gray-500\">{a.state}</div>\n                </div>\n                <div className=\"text-xs text-gray-400\">{a.createdAt}</div>\n              </li>\n            ))}\n          </ul>\n        </div>\n\n        <div className=\"bg-white p-4 rounded shadow\">\n          <h3 className=\"font-semibold mb-2\">Recent audit</h3>\n          <ul>\n            {audit.slice(0,5).map(a=>(\n              <li key={a.id} className=\"border-b py-2\">\n                <div className=\"flex justify-between\">\n                  <div>{a.type}</div>\n                  <div className=\"text-xs text-gray-400\">{a.ts}</div>\n                </div>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </section>\n    </main>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAJA;;;;;;AAMA,SAAS,YAAY,MAAU;IAC7B,IAAI,CAAC,gKAAO,CAAC,GAAG,CAAC,qBAAqB,OAAO,IAAI,CAAC;AACpD;AAEe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAC9C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAE5C,IAAA,kNAAS,EAAC;QACR,YAAY;QACZ,IAAA,oIAAW,IAAG,IAAI,CAAC,WAAW,KAAK,CAAC,IAAI,UAAU,EAAE;QACpD,IAAA,mIAAU,IAAG,IAAI,CAAC,UAAU,KAAK,CAAC,IAAI,SAAS,EAAE;IACjD,uDAAuD;IACzD,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAAwB;;;;;;0CACvC,8OAAC;gCAAI,WAAU;0CAA0B,OAAO,MAAM;;;;;;;;;;;;kCAExD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAAwB;;;;;;0CACvC,8OAAC;gCAAI,WAAU;0CAA0B,MAAM,MAAM;;;;;;;;;;;;kCAEvD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAAwB;;;;;;0CACvC,8OAAC;gCAAI,WAAU;0CAAiB,wCAAsC;;;;;;;;;;;;;;;;;;0BAI1E,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAqB;;;;;;0CACnC,8OAAC;0CACE,OAAO,KAAK,CAAC,GAAE,GAAG,GAAG,CAAC,CAAA,kBACrB,8OAAC;wCAAc,WAAU;;0DACvB,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;kEAAK,EAAE,EAAE;;;;;;kEACV,8OAAC;wDAAI,WAAU;kEAAyB,EAAE,KAAK;;;;;;;;;;;;0DAEjD,8OAAC;gDAAI,WAAU;0DAAyB,EAAE,SAAS;;;;;;;uCAL5C,EAAE,EAAE;;;;;;;;;;;;;;;;kCAWnB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAqB;;;;;;0CACnC,8OAAC;0CACE,MAAM,KAAK,CAAC,GAAE,GAAG,GAAG,CAAC,CAAA,kBACpB,8OAAC;wCAAc,WAAU;kDACvB,cAAA,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;8DAAK,EAAE,IAAI;;;;;;8DACZ,8OAAC;oDAAI,WAAU;8DAAyB,EAAE,EAAE;;;;;;;;;;;;uCAHvC,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAY3B","debugId":null}}]
}