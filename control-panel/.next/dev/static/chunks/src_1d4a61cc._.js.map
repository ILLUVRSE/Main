{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanlueckenotte/ILLUVRSE/commandpad/src/lib/fetcher.ts"],"sourcesContent":["export const kernelUrl = process.env.NEXT_PUBLIC_KERNEL_URL || '';\n\nexport async function fetchAgents() {\n  if (!kernelUrl) {\n    return [\n      { id: 'agent-1', state: 'running', templateId: 'tpl-1', createdAt: new Date().toISOString() },\n      { id: 'agent-2', state: 'failed', templateId: 'tpl-2', createdAt: new Date().toISOString() }\n    ];\n  }\n  const r = await fetch(`${kernelUrl}/kernel/agent`);\n  if (!r.ok) throw new Error('kernel fetch failed');\n  return r.json();\n}\n\nexport async function fetchAudit() {\n  if (!kernelUrl) {\n    return [\n      { id: 'aud-1', type: 'agent.instantiated', ts: new Date().toISOString(), payload: { agentId: 'agent-1' } },\n      { id: 'aud-2', type: 'agent.running', ts: new Date().toISOString(), payload: { agentId: 'agent-1' } }\n    ];\n  }\n  const r = await fetch(`${kernelUrl}/kernel/audit`);\n  if (!r.ok) throw new Error('kernel fetch failed');\n  return r.json();\n}\n\n"],"names":[],"mappings":";;;;;;;;AAAyB;AAAlB,MAAM,YAAY,wCAAsC;AAExD,eAAe;IACpB,wCAAgB;QACd,OAAO;YACL;gBAAE,IAAI;gBAAW,OAAO;gBAAW,YAAY;gBAAS,WAAW,IAAI,OAAO,WAAW;YAAG;YAC5F;gBAAE,IAAI;gBAAW,OAAO;gBAAU,YAAY;gBAAS,WAAW,IAAI,OAAO,WAAW;YAAG;SAC5F;IACH;;;IACA,MAAM;AAGR;AAEO,eAAe;IACpB,wCAAgB;QACd,OAAO;YACL;gBAAE,IAAI;gBAAS,MAAM;gBAAsB,IAAI,IAAI,OAAO,WAAW;gBAAI,SAAS;oBAAE,SAAS;gBAAU;YAAE;YACzG;gBAAE,IAAI;gBAAS,MAAM;gBAAiB,IAAI,IAAI,OAAO,WAAW;gBAAI,SAAS;oBAAE,SAAS;gBAAU;YAAE;SACrG;IACH;;;IACA,MAAM;AAGR","debugId":null}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanlueckenotte/ILLUVRSE/commandpad/src/app/page.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport { fetchAgents, fetchAudit } from \"../lib/fetcher\";\nimport Cookies from \"js-cookie\";\nimport { useRouter } from \"next/navigation\";\n\nfunction requireAuth(router:any) {\n  if (!Cookies.get(\"commandpad_token\")) router.push(\"/login\");\n}\n\nexport default function Home() {\n  const router = useRouter();\n  const [agents, setAgents] = useState<any[]>([]);\n  const [audit, setAudit] = useState<any[]>([]);\n\n  useEffect(() => {\n    requireAuth(router);\n    fetchAgents().then(setAgents).catch(()=>setAgents([]));\n    fetchAudit().then(setAudit).catch(()=>setAudit([]));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <main className=\"max-w-5xl mx-auto p-6\">\n      <h2 className=\"text-2xl font-bold mb-4\">Dashboard</h2>\n      <div className=\"grid grid-cols-3 gap-4 mb-6\">\n        <div className=\"bg-white p-4 rounded shadow\">\n          <div className=\"text-sm text-gray-500\">Agents</div>\n          <div className=\"text-2xl font-semibold\">{agents.length}</div>\n        </div>\n        <div className=\"bg-white p-4 rounded shadow\">\n          <div className=\"text-sm text-gray-500\">Audit events</div>\n          <div className=\"text-2xl font-semibold\">{audit.length}</div>\n        </div>\n        <div className=\"bg-white p-4 rounded shadow\">\n          <div className=\"text-sm text-gray-500\">Kernel URL</div>\n          <div className=\"text-ellipsis\">{process.env.NEXT_PUBLIC_KERNEL_URL || 'mock'}</div>\n        </div>\n      </div>\n\n      <section className=\"grid grid-cols-2 gap-6\">\n        <div className=\"bg-white p-4 rounded shadow\">\n          <h3 className=\"font-semibold mb-2\">Recent agents</h3>\n          <ul>\n            {agents.slice(0,5).map(a=>(\n              <li key={a.id} className=\"border-b py-2\">\n                <div className=\"flex justify-between\">\n                  <div>{a.id}</div>\n                  <div className=\"text-sm text-gray-500\">{a.state}</div>\n                </div>\n                <div className=\"text-xs text-gray-400\">{a.createdAt}</div>\n              </li>\n            ))}\n          </ul>\n        </div>\n\n        <div className=\"bg-white p-4 rounded shadow\">\n          <h3 className=\"font-semibold mb-2\">Recent audit</h3>\n          <ul>\n            {audit.slice(0,5).map(a=>(\n              <li key={a.id} className=\"border-b py-2\">\n                <div className=\"flex justify-between\">\n                  <div>{a.type}</div>\n                  <div className=\"text-xs text-gray-400\">{a.ts}</div>\n                </div>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </section>\n    </main>\n  );\n}\n\n"],"names":["useEffect","useState","fetchAgents","fetchAudit","Cookies","useRouter","requireAuth","router","get","push","Home","agents","setAgents","audit","setAudit","then","catch","length","process","env","NEXT_PUBLIC_KERNEL_URL","slice","map","a","id","state","createdAt","type","ts"],"mappings":"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","ignoreList":[],"debugId":null}}]
}